window.FrontEnd || (window.FrontEnd = {}); FrontEnd.SearchingTrackingService = function () { function n(n) { return parseInt(n, 10) } function w(n) { return n === t ? "proj" : n === e ? "sell" : "rent" } function s(n) { var i = 0, r = u, f = { "1": [0, 30], "2": [30, 50], "3": [50, 80], "4": [80, 100], "5": [100, 150], "6": [150, 200], "7": [200, 250], "8": [250, 300], "9": [300, u], "10": [u, null] }, t = f[n]; return t && (i = t[0], r = t[1]), [i, r] } function h(n, i) { let h = 0, r = f; i === o && (r = 100); i === t && (r = 80); let u = {}; i === e ? u = { "1": [0, 500], "2": [500, 800], "3": [800, 1e3], "4": [1e3, 2e3], "5": [2e3, 3e3], "6": [3e3, 5e3], "7": [5e3, 7e3], "8": [7e3, 1e4], "9": [1e4, 2e4], "10": [2e4, 3e4], "11": [3e4, 4e4], "12": [4e4, f], "13": [f, null] } : i === o ? u = { "1": [0, 1], "2": [1, 3], "3": [3, 5], "4": [5, 10], "5": [10, 40], "6": [40, 70], "7": [70, 100], "8": [100, null] } : i === t && (u = { "1": [0, 5], "2": [5, 10], "3": [10, 20], "4": [20, 35], "5": [35, 50], "6": [50, 80], "7": [80, null] }); let s = u[n]; return s && (h = s[0], r = s[1]), [h, r] } function b(n) { const t = n !== null && n !== undefined ? n.toString() : "null"; return c[`${t}`] } function k(n) { const t = n !== null && n !== undefined ? n.toString() : "null"; return l[`${t}`] } function d(n) { const t = n !== null && n !== undefined ? n.toString() : "null"; return a[`${t}`] } function g(n) { const t = n !== null && n !== undefined ? n.toString() : "null"; return v[`${t}`] } function nt(n) { if (n.length > 0) { const t = []; return n.forEach(n => { t.push(y[`${n}`]) }), t.join(",") } return "" } function tt(u, f, e, o, c) { let a = n(u.productType); var l = { event: a === t ? "search-b2b" : "search", sesell: w(a) }; if (u.version && (l.vers = u.version), u.customEvent && (l.event = u.customEvent), a === t && f && (l.sesuggest = f), e && e !== "" && (l.sekwrd = e), u.category && u.category.ids && (l.secati = u.category.ids), u.city && u.city.code && (l.secity = u.city.code), u.locations && u.locations.length > 0) { let t = [], r = [], f = [], e = []; u.locations.forEach(u => { let o = u.id.includes("_") ? u.id.split("_") : [u.id], s = n(u.locationType); s === i.DISTRICT ? t.push(n(o[0])) : s !== i.DISTRICT && o.length > 1 && t.push(n(o[1])); s === i.WARD && r.push(n(o[0])); s === i.STREET && f.push(n(o[0])); s === i.PROJECT && e.push(n(o[0])) }); t.length > 0 && (l.sedist = t); r.length > 0 && (l.seward = r); f.length > 0 && (l.sestri = f); e.length > 0 && (l.seproi = e) } if (u.price && u.price.level) { let n = h(u.price.level, a); l.seprmi = n[0]; l.seprma = n[1] } else u.price && (u.price.min || u.price.max) && (l.seprmi = u.price.min, l.seprma = u.price.max); if (u.area && u.area.level) { let n = s(u.area.level, a); l.searmi = n[0]; l.searma = n[1] } else u.area && (u.area.min || u.area.max) && (l.searmi = u.area.min, l.searma = u.area.max); c && c.value && (l.sestage = c.value); o && o.value && (l.sesort = o.value); u.room && u.room.ids && (l.sebedr = u.room.ids); u.direction && u.direction.ids && (l.sedire = u.direction.ids); u.media && u.media.ids && (l.semedi = u.media.ids); u.verification && (l.severi = u.verification ? "1" : "0", l.vrs = u.verification ? "1" : "0"); u.verification && (l.proag = u.proAgent ? "1" : "0"); u.balcon && u.balcon.length > 0 && (l.sebcdire = u.balcon); u.road && (l.serdwh = u.road); u.filterMode && (l.filterMode = u.filterMode); u.frontage && (l.sefo = u.frontage); u.roadWidth && (l.roadWidth = u.roadWidth); u.availableTime && (l.seavtm = b(u.availableTime)); u.electricityPrice && (l.seeltpr = k(u.electricityPrice)); u.waterPrice && (l.sewtpr = d(u.waterPrice)); u.internetPrice && (l.seintpr = g(u.internetPrice)); u.utility && u.utility.ids && (l.seutl = nt(u.utility.ids)); r.AddDataLayer(l) } function it(n, t) { var i = { event: n }; t && t.length > 0 && t.forEach(n => { n.label && n.data && (i[n.label] = n.data) }); r.AddDataLayer(i) } function rt(n = "", t = {}, i = {}) { let u = { event: n, event_payload: t }; i && (i.category && (u.search_param_category = i.category), i.price && (u.search_param_price = i.price), i.area && (u.search_param_area = i.area), i.locations && (u.search_param_location = i.locations), i.quality && (u.search_param_quality = i.quality), i.other && (u.search_param_other = i.other), i.freetext && (u.search_param_free_text = i.freetext)); r.AddDataLayer(u) } const t = 351, e = 38, o = 49, u = 500, f = 6e4, i = { PROJECT: 5, DISTRICT: 3, WARD: 6, STREET: 2 }, c = { "null": "all", "-1": "all", "0": "negotiable", "1": "1 month", "2": "1 week", "3": "right now" }, l = { "null": "all", "-1": "all", "0": "negotiable", "1": "home owner", "2": "by supplier" }, a = { "null": "all", "-1": "all", "0": "negotiable", "1": "home owner", "2": "by supplier" }, v = { "null": "all", "-1": "all", "0": "negotiable", "1": "home owner" }, y = { "1": "security", "2": "camera", "3": "fire protection" }; var r; (function p() { window.CommonJS && window.CommonJS.Common ? r = new CommonJS.Common : setTimeout(function () { p() }, 100) })(); this.PushTrackingDataLayer = tt; this.SendTrackingDataLayer = it; this.AddSearchTrackingDataLayer = rt; this.GetAreaUpdateSlide = s; this.GetPriceUpdateSlide = h };