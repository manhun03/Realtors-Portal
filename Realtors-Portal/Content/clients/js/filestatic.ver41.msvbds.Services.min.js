var styleServices = { getStyleClass: function () { for (var t = [], n = 0; n < arguments.length; n++)arguments[n].length > 0 && t.push(`${"re__"}${arguments[n]}`); return t.join(" ") }, firstCharOfFirstName: function (n) { var i = window.styleServices.unicodeToKoDau(n), t; return (n = i ? i : n, t = n.split(" "), t.length > 0) ? t[t.length - 1].substring(0, 1) : "" }, unicodeToKoDau: function (n) { var r = "", u, i, t; if (n == null) return r; for (i = "a", t = 0; t < n.length; t++)(i !== " " || n[t] !== " ") && (i = n[t], u = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTVWXYZĂ Ă¡áº£Ă£áº¡Ă¢áº§áº¥áº©áº«áº­Äƒáº±áº¯áº³áºµáº·Ă¨Ă©áº»áº½áº¹Ăªá»áº¿á»ƒá»…á»‡Ä‘Ă¬Ă­á»‰Ä©á»‹Ă²Ă³á»Ăµá»Ă´á»“á»‘á»•á»—á»™Æ¡á»á»›á»Ÿá»¡á»£Ă¹Ăºá»§Å©á»¥Æ°á»«á»©á»­á»¯á»±á»³Ă½á»·á»¹á»µĂ€Ăáº¢Ăƒáº Ă‚áº¦áº¤áº¨áºªáº¬Ä‚áº°áº®áº²áº´áº¶ĂˆĂ‰áººáº¼áº¸Ăá»€áº¾á»‚á»„á»†ÄĂŒĂá»ˆÄ¨á»Ă’Ă“á»Ă•á»ŒĂ”á»’á»á»”á»–á»˜Æ á»œá»á»á» á»¢Ă™Ăá»¦Å¨á»¤Æ¯á»ªá»¨á»¬á»®á»°á»²Ăá»¶á»¸á»´Ă‚Ä‚ÄĂ”Æ Æ¯1234567890~!@#$%^&*()_+=-{}][|\":;'\\/.,<>? \n\r\t".indexOf(i), u >= 0 && (r += "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTVWXYZaaaaaaaaaaaaaaaaaeeeeeeeeeeediiiiiooooooooooooooooouuuuuuuuuuuyyyyyAAAAAAAAAAAAAAAAAEEEEEEEEEEEDIIIOOOOOOOOOOOOOOOOOOOUUUUUUUUUUUYYYYYAADOOU1234567890~!@#$%^&*()_+=-{}][|\":;'\\/.,<>? \n\r\t"[u])); return r }, getIconSm: function (n, t) { var i = "icon-other--sm"; return t === null ? "icon-location--sm" : (n == 38 ? (i = "icon-all--sm", t == 324 ? i = "icon-apartment--sm" : t == 362 || t == 41 || t == 325 || t == 163 || t == 575 ? i = "icon-villa--sm" : t == 361 || t == 40 || t == 283 ? i = "icon-land--sm" : t == 44 || t == 562 ? i = "icon-farm--sm" : t == 45 ? i = "icon-stock--sm" : t == 48 && (i = "icon-other--sm")) : n == 49 ? (i = "icon-all--sm", t == 326 ? i = "icon-apartment--sm" : t == 52 ? i = "icon-private-house--sm" : t == 51 ? i = "icon-street-house--sm" : t == 576 ? i = "icon-shophouse--sm" : t == 57 ? i = "icon-dorm--sm" : t == 50 ? i = "icon-office--sm" : t == 55 ? i = "icon-kiot--sm" : t == 53 ? i = "icon-stock--sm" : t == 59 && (i = "icon-other--sm")) : n == 351 && (i = "icon-building--sm", t == 1 ? i = "icon-location--sm" : t == 155 ? i = "icon-apartment--sm" : t == 156 ? i = "icon-office--sm" : t == 157 ? i = "icon-mall--sm" : t == 150 ? i = "icon-urban-area--sm" : t == 160 ? i = "icon-complex--sm" : t == 148 ? i = "icon-private-house--sm" : t == 158 ? i = "icon-farm--sm" : t == 159 ? i = "icon-industrial-park--sm" : t == 421 ? i = "icon-all--sm" : t == 161 ? i = "icon-other--sm" : t == 600 ? i = "icon-shophouse--sm" : t == 601 && (i = "icon-street-house--sm")), i) }, unicodeToKoDauByTagUrl: function (n) { function s(n) { var r = "", u, i, t; if (n == null) return r; for (i = "a", t = 0; t < n.length; t++)(i !== " " || n[t] !== " ") && (i = n[t], u = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTVWXYZĂ Ă¡áº£Ă£áº¡Ă¢áº§áº¥áº©áº«áº­Äƒáº±áº¯áº³áºµáº·Ă¨Ă©áº»áº½áº¹Ăªá»áº¿á»ƒá»…á»‡Ä‘Ă¬Ă­á»‰Ä©á»‹Ă²Ă³á»Ăµá»Ă´á»“á»‘á»•á»—á»™Æ¡á»á»›á»Ÿá»¡á»£Ă¹Ăºá»§Å©á»¥Æ°á»«á»©á»­á»¯á»±á»³Ă½á»·á»¹á»µĂ€Ăáº¢Ăƒáº Ă‚áº¦áº¤áº¨áºªáº¬Ä‚áº°áº®áº²áº´áº¶ĂˆĂ‰áººáº¼áº¸Ăá»€áº¾á»‚á»„á»†ÄĂŒĂá»ˆÄ¨á»Ă’Ă“á»Ă•á»ŒĂ”á»’á»á»”á»–á»˜Æ á»œá»á»á» á»¢Ă™Ăá»¦Å¨á»¤Æ¯á»ªá»¨á»¬á»®á»°á»²Ăá»¶á»¸á»´Ă‚Ä‚ÄĂ”Æ Æ¯1234567890~!@#$%^&*()_+=-{}][|\":;'\\/.,<>? \n\r\t".indexOf(i), u >= 0 && (r += "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTVWXYZaaaaaaaaaaaaaaaaaeeeeeeeeeeediiiiiooooooooooooooooouuuuuuuuuuuyyyyyAAAAAAAAAAAAAAAAAEEEEEEEEEEEDIIIOOOOOOOOOOOOOOOOOOOUUUUUUUUUUUYYYYYAADOOU1234567890~!@#$%^&*()_+=-{}][|\":;'\\/.,<>? \n\r\t"[u])); return r } var i = "", u, f, r, e, t, o; if (n != null && n != "") { for (u = new RegExp("( )+", "g"), n = n.replace(u, "-"), n.length > 100 && (n = n.substring(0, 100)), n = s(n), f = new RegExp("<[^>]*>"), n = n.replace(f, ""), r = "", e = ",.", t = 0; t < n.length; t++)r += Alphabe.indexOf(n[t]) >= 0 || e.indexOf(n[t]) >= 0 && t > 0 && t < n.length - 1 && hasOnlyDigits(n[t - 1]) && hasOnlyDigits(n[t + 1]) ? n[t] : "-"; return r = r.replace(u, "-"), i = r, o = new RegExp("-+"), i = i.replace(o, "-"), i.length > 100 ? i.substring(0, 100) : i } return i }, formartTagHtml: function (n) { if (n) { var t = new RegExp(/<[^>]+>/g); n = n.replace(t, ""); n = n.replace(/\s\s+/g, " ") } return n } }, scrollServices = { keys: { 37: 1, 38: 1, 39: 1, 40: 1 }, preventDefault: function (n) { n.preventDefault() }, preventDefaultForScrollKeys: function (n) { if (window.scrollServices.keys[n.keyCode]) return window.scrollServices.preventDefault(n), !1 }, enableScroll: function () { var t = !1, n, i; try { window.addEventListener("test", null, Object.defineProperty({}, "passive", { get: function () { t = !0 } })) } catch (r) { } n = t ? { passive: !1 } : !1; i = "onwheel" in document.createElement("div") ? "wheel" : "mousewheel"; window.removeEventListener("DOMMouseScroll", window.scrollServices.preventDefault, n); window.removeEventListener(i, window.scrollServices.preventDefault, n); window.removeEventListener("touchmove", window.scrollServices.preventDefault, n); window.removeEventListener("keydown", window.scrollServices.preventDefaultForScrollKeys, !1) }, disableScroll: function () { var t = !1, n, i; try { window.addEventListener("test", null, Object.defineProperty({}, "passive", { get: function () { t = !0 } })) } catch (r) { } n = t ? { passive: !1 } : !1; i = "onwheel" in document.createElement("div") ? "wheel" : "mousewheel"; window.addEventListener("DOMMouseScroll", window.scrollServices.preventDefault, n); window.addEventListener(i, window.scrollServices.preventDefault, n); window.addEventListener("touchmove", window.scrollServices.preventDefault, n); window.addEventListener("keydown", window.scrollServices.preventDefaultForScrollKeys, !1) } }, userServices = { currentUserInfo: undefined, testingId: 499698, getCurrentUserInfo: function (n) { function t() { var n = document.cookie, r = "c_u_id=", t = n.indexOf(r), u = null, i; return t > -1 && (t += r.length, i = n.indexOf(";", t), i == -1 && (i = n.length), u = n.substring(t, i)), u } function i() { var n = document.cookie, u = "con.unl.cli.id=", i = n.indexOf(u), f = null, r, t; if (i > -1) { if ((i += u.length, r = n.indexOf(";", i), r == -1 && (r = n.length), t = n.substring(i, r), !t) || (t = decodeURIComponent(t), n = JSON.parse(t), !n.value)) return "unknown"; f = n.value } return f } function r() { return n && n(window.userServices.currentUserInfo), new Promise(function (n) { n(window.userServices.currentUserInfo) }) } function u(n) { try { return JSON.parse(n) } catch (t) { return undefined } } function f(n = null) { var s = document.getElementById("staticDomain").getAttribute("data-msvrouter"), h = document.querySelector(".js__user-services-params").getAttribute("data-get-current-user-info"), o = t(), r; o == window.userServices.testingId && window.loggingServices.logInfo({ message: "GetCurrentUserInfo: start request", file: "Services.js", data: { userId: t(), clientId: i() } }); r = new XMLHttpRequest; r.open("GET", `${s}${h}`, !1); r.withCredentials = !0; r.onload = function () { if (!r.response) { window.loggingServices.logError({ message: "GetCurrentUserInfo: empty response body", file: "Services.js", data: { userId: t(), responseStatus: r.status, clientId: i() } }); window.userServices.currentUserInfo = null; return } var n = u(r.response); if (n && n.isSuccess) { o == window.userServices.testingId && window.loggingServices.logInfo({ message: "GetCurrentUserInfo: success", file: "Services.js", data: { userId: t(), clientId: i() } }); window.userServices.currentUserInfo = n.data; return } if (!n || n.statusCode !== "401") { window.userServices.currentUserInfo = null; window.loggingServices.logError({ message: "GetCurrentUserInfo: error from response body", file: "Services.js", data: { responseResult: n, userId: t(), responseStatus: r.status, clientId: i() } }); return } e() }; r.onerror = function () { window.userServices.currentUserInfo = null; window.loggingServices.logError({ message: "GetCurrentUserInfo: network error response", file: "Services.js", data: { userId: t(), clientId: i() } }) }; try { r.send() } catch (f) { if (n) { n(); return } f.userId = t(); f.clientId = i(); window.userServices.currentUserInfo = null; window.loggingServices.logError({ message: "GetCurrentUserInfo: unexpected error", file: "Services.js", data: f }) } } function e() { var n = new XMLHttpRequest, e = document.getElementById("staticDomain").getAttribute("data-seller-api"), o = t(), f; o == window.userServices.testingId && window.loggingServices.logInfo({ message: "RefreshToken: start request", file: "Services.js", data: { userId: t(), clientId: i() } }); f = document.querySelector(".js__user-services-params").getAttribute("data-get-refresh-token"); n.open("GET", `${e}${f}`, !1); n.withCredentials = !0; n.setRequestHeader("Access-Control-Allow-Credentials", "true"); n.onload = function () { var r = t(), f; if (!n.response) { window.userServices.currentUserInfo = null; r && window.loggingServices.logError({ message: "RefreshToken: empty response body", file: "Services.js", data: { userId: r, responseStatus: n.status, clientId: i() } }); return } if (f = u(n.response), !f || !f.isSuccess) { window.userServices.currentUserInfo = null; r && window.loggingServices.logError({ message: "RefreshToken: error from response body", file: "Services.js", data: { responseResult: f, userId: t(), responseStatus: n.status, clientId: i() } }); return } r == window.userServices.testingId && window.loggingServices.logInfo({ message: "RefreshToken: success", file: "Services.js", data: { userId: t(), clientId: i() } }); location.reload() }; n.onerror = function () { window.userServices.currentUserInfo = null; window.loggingServices.logError({ message: "RefreshToken: network error response", file: "Services.js", data: { userId: t(), clientId: i() } }) }; try { n.send() } catch (r) { r.userId = t(); r.clientId = i(); window.userServices.currentUserInfo = null; window.loggingServices.logError({ message: "RefreshToken: unexpected error", file: "Services.js", data: r }) } } return window.userServices.currentUserInfo !== undefined ? r() : document.getElementById("staticDomain") ? (f(function () { f() }), r()) : new Promise(function (t) { setTimeout(function () { window.userServices.getCurrentUserInfo(n).then(n => { t(n) }) }, 500) }) }, clearCurrentUserInfoCache: function () { window.userServices.currentUserInfo = undefined }, refreshToken: function () { document.getElementById("staticDomain") }, getBotUserInfoById: function (n) { var t = 1; return n > 0 ? new Promise(i => { try { var r = document.querySelector(".js__user-services-params").getAttribute("data-get-bot-user-info"), u = document.getElementById("staticDomain").getAttribute("data-msvrouter"), f = { UserIds: [n] }; waitObject("urlServices").then(() => window.urlServices.getDomains()).then(() => { fetch(`${u}${r}`, { method: "POST", headers: { Accept: "application/json", "Content-Type": "application/json", "Access-Control-Allow-Origin": "*" }, body: JSON.stringify(f) }).then(n => n.status === 200 && n.json()).then(n => { i(n) }) }) } catch (e) { i(t) } }) : new Promise(function (n) { n(t) }) } }, urlServices = { getDomains: function () { return new Promise(function (n) { (function t(i) { document.getElementById("staticDomain") ? n({ msvrouter: document.getElementById("staticDomain").getAttribute("data-msvrouter"), serverWeb: document.getElementById("staticDomain").getAttribute("data-web"), sellerApi: document.getElementById("staticDomain").getAttribute("data-seller-api") }) : i > 0 ? setTimeout(function () { t(i) }, 500) : resolvve({ msvrouter: "", serverWeb: "", sellerApi: "" }) })(50) }) }, kongGwConvertUrl: function (n) { var t = $("#staticDomain"), r = t.data("use-kong-gw") !== undefined ? t.data("use-kong-gw") : "False", u = t.data("kong-gw-domain") !== undefined ? t.data("kong-gw-domain") : "", i; return r === "True" ? `${u}${n}` : (i = t.data("msvrouter") !== undefined ? t.data("msvrouter") : "", `${i}${n}`) } }, preloadPricingHistoryServices = { showOrHideChart: function () { return new Promise(n => { waitObject("userServices").then(() => window.userServices.getCurrentUserInfo()).then(t => { n(!!t) }).catch(n => { console.error(n) }) }) } }, performanceServices = { throttle: function (n, t = 250) { let r = !1, i; const u = () => { i == null ? r = !1 : (n(...i), i = null, setTimeout(u, t)) }; return (...f) => { if (r) { i = f; return } n(...f); r = !0; setTimeout(u, t) } }, debounce: function (n, t = 1e3) { let i; return (...r) => { clearTimeout(i), i = setTimeout(() => { n(...r) }, t) } }, getScrollDirection: function () { let n = window.scrollY || document.documentElement.scrollTop; window.addEventListener("scroll", function () { const t = window.scrollY || document.documentElement.scrollTop; if (t > n) return "down"; if (t < n) return "up"; n = t <= 0 ? 0 : t }, !1) } }, loggingServices = { logError: function (n) { n.url = window.location.href; window.urlServices.getDomains().then(t => { if (t.msvrouter !== "") { var i = document.querySelector(".js__log-services-params").getAttribute("data-log-error-url"); fetch(`${t.msvrouter}${i}`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(n) }) } }) }, logInfo: function (n) { n.url = window.location.href; window.urlServices.getDomains().then(t => { if (t.msvrouter !== "") { var i = document.querySelector(".js__log-services-params").getAttribute("data-log-info-url"); fetch(`${t.msvrouter}${i}`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(n) }) } }) }, log: function (n) { console.log(n) } };